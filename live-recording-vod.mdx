---
title: "Live Streaming & Recording via API"
description: "How to create a live stream, broadcast over RTMP, play via HLS, and optionally record the session as a VOD asset using the Videograph API."
---

## Overview

This guide shows you how to create a live stream using the Videograph API, publish video from an encoder using RTMP, watch the resulting HLS stream, and optionally record the session so it becomes a finalized VOD asset. It provides a single, end‑to‑end workflow suitable for production or test environments.

Videograph supports both non‑recorded and recorded streams. When recording is enabled, segments are captured during the broadcast and later processed into a standard VOD asset.

## Prerequisites

- API access key and secret (see [Authentication & Authorization](/authentication)).  
- An RTMP‑compatible encoder such as OBS Studio.  
- An HLS player or integration method (see [Players, SDKs & Embeds](/players-sdks-embeds)).

<Callout kind="info">

Recording must be enabled before the stream begins. Recorded sessions are retained for 12 hours from the moment the live stream starts.

</Callout>

## Steps to create, stream, play, and record

<Steps>

  <Step title="Create a live stream" icon="cast">

  
Use `POST /video/services/api/v1/livestreams` to create a stream. Provide a title, region, and a boolean `record` flag.

<CodeGroup tabs="cURL">

```bash
curl -X POST "https://api.videograph.ai/video/services/api/v1/livestreams" \
  -u "ACCESS_KEY:SECRET_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "My Live Event",
    "region": "us-east-1",
    "record": true
  }'
```

</CodeGroup>

Set `record` to `false` if you do not want the broadcast captured.

  </Step>

  <Step title="Inspect and store response fields" icon="database">

  
The API response includes:

- `playbackUrl`  
- `rtmpUrl`  
- `streamKey`  
- `streamUUID`  

Store these for configuring your encoder and player integration.

  </Step>

  <Step title="Select the correct RTMP ingest URL" icon="arrow-right">

  
Videograph provides separate ingest URLs depending on whether recording is enabled:

- Recording enabled (`record` is `true`):  
  `rtmp://rc-ingest.in.videograph.ai/rec`

- Recording disabled (`record` is `false`):  
  `rtmp://ingest.in.videograph.ai/live`

Use the ingest base plus the `streamKey` returned in the API response.

  </Step>

  <Step title="Configure and start your encoder" icon="upload-cloud">

  
In OBS or another encoder:

- Set the server field to the chosen ingest URL.  
- Set the stream key to the provided `streamKey`.  
- Start streaming to push video into Videograph.

Once input is detected, the stream transitions to live and becomes available for playback.

  </Step>

  <Step title="Watch the live stream via HLS" icon="play-circle">

  
Use the `playbackUrl` value in any HLS‑compatible player. For web integrations, see [Players, SDKs & Embeds](/players-sdks-embeds).

  </Step>

  <Step title="(Optional) Retrieve the finalized recording as VOD" icon="video">

  
If `record` was set to `true`, Videograph captures and assembles the session after the broadcast ends. Once finalized, the recording appears as a VOD asset.

To fetch metadata such as the VOD playback URL, call `GET /video/services/api/v1/contents/{CONTENT_ID}` once you know the asset identifier.

<CodeGroup tabs="cURL">

```bash
curl -X GET "https://api.videograph.ai/video/services/api/v1/contents/CONTENT_ID" \
  -u "ACCESS_KEY:SECRET_KEY"
```

</CodeGroup>

  </Step>

</Steps>

## How recording becomes a VOD asset

When a recorded live stream ends, Videograph assembles captured segments, performs integrity checks, and pushes the result through the standard VOD pipeline. This includes encoding, thumbnail generation, and metadata processing. You can then edit metadata, update thumbnails, or create derived clips using tools described in the VOD documentation such as [Uploading & Ingesting Video](/vod-uploading-ingesting) and [Metadata, Tags & Organization](/vod-metadata-tags).