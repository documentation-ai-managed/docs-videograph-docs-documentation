---
title: "Creating, Streaming & Recording Live Sessions"
description: "End‑to‑end workflow for creating a live stream, broadcasting via RTMP, watching HLS playback, and optionally converting the session into a VOD asset."
---

## Overview

This guide provides a complete workflow for creating a live stream using the Videograph API, sending video from an RTMP encoder, watching the HLS output, and optionally recording the session so it becomes a finalized VOD asset.

If you are new to live streaming on Videograph, see [Live Streaming Overview](/live-stream-basics). For foundational delivery concepts, see [Content Model & Playback Basics](/core-video-pipeline).

Videograph supports both recorded and non‑recorded live sessions. When recording is enabled, captured segments are assembled into a standard VOD asset once the broadcast ends.

## Prerequisites

- API access key and secret (see [Authentication & Access Control](/authentication)).
- An RTMP‑compatible encoder such as OBS Studio.
- An HLS‑compatible player or integration method (see [Playing Videos (Web & App Integration)](/web-sdk-player)).

<Callout kind="info">

Recording must be enabled before the live stream begins. Recorded sessions are retained for a limited window while processing completes.

</Callout>

## End‑to‑end workflow

<Steps>

  <Step title="Create a live stream" icon="cast">

  
Use the `POST /video/services/api/v1/livestreams` endpoint to create a live stream. Provide `title`, `region`, and a `record` boolean to specify whether the session should be captured as VOD.

<CodeGroup tabs="cURL">

```bash
curl --request POST \
     --url https://api.videograph.ai/video/services/api/v1/livestreams \
     -u "ACCESS_KEY:SECRET_KEY" \
     --header "content-type: application/json" \
     --data '{
       "title": "Live stream",
       "region": "us-east-1",
       "record": true
     }'
```

</CodeGroup>

Set `"record": false` if you do not want the broadcast captured as VOD.

  </Step>

  <Step title="Interpret and store the response" icon="database">

  
The response includes fields required for your encoder and playback flow:

- `playbackUrl`  
- `rtmpUrl`  
- `streamKey`  
- `streamUUID`  
- `status` (initially Idle)

Store these values. You will combine the ingest base URL with the `streamKey` when configuring your encoder.

  </Step>

  <Step title="Choose the correct RTMP ingest base URL" icon="arrow-right">

  
Videograph uses different ingest bases for recorded and non‑recorded streams:

- Recording enabled (`record` set to `true`):  
  `rtmp://rc-ingest.in.videograph.ai/rec`

- Recording disabled (`record` set to `false`):  
  `rtmp://ingest.in.videograph.ai/live`

Append your returned `streamKey` to the chosen base when configuring the encoder.

  </Step>

  <Step title="Configure and start your encoder" icon="upload-cloud">

  
In OBS or another RTMP encoder:

- Set the server field to the chosen ingest base URL.  
- Set the stream key field to the returned `streamKey`.  
- Begin streaming to push video into Videograph.

When input is detected, the stream transitions from Idle to live and becomes playable.

  </Step>

  <Step title="Watch the live stream via HLS" icon="play-circle">

  
Use the returned `playbackUrl` in any HLS‑capable player. For integration patterns, see [Playing Videos (Web & App Integration)](/web-sdk-player).

  </Step>

  <Step title="Retrieve the finalized VOD (if recording enabled)" icon="video">

  
If `"record": true`, Videograph captures and assembles the full session once the live broadcast ends. After processing completes, the resulting asset becomes available through the contents API.

When you know the content identifier, request metadata such as the VOD playback URL using:

<CodeGroup tabs="cURL">

```bash
curl --request GET \
     --url https://api.videograph.ai/video/services/api/v1/contents/CONTENT_ID \
     -u "ACCESS_KEY:SECRET_KEY"
```

</CodeGroup>

  </Step>

</Steps>

## How recorded sessions become VOD assets

When a recorded live stream ends, Videograph stitches captured segments, performs integrity checks, and pushes the output through the standard VOD pipeline. This includes encoding, thumbnail generation, and metadata processing.

You can later edit metadata, manage tags, or generate derivative clips using the workflows described in [Managing Video Content](/vod-metadata-tags).